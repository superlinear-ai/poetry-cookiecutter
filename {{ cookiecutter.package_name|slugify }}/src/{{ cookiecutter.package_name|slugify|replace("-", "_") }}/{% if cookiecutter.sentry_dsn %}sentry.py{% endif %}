"""Sentry configuration."""

import os
from importlib.metadata import version

import sentry_sdk


def configure_sentry() -> None:
    """Configure Sentry."""
    environment = os.environ.get("ENVIRONMENT", "local")
    sentry_sdk.init(
        dsn="{{ cookiecutter.sentry_dsn }}",
        traces_sample_rate=0.1 if environment != "production" else 0.001,
        release=f"{{ cookiecutter.package_name|slugify }}@{version('{{ cookiecutter.package_name|slugify }}')}",
        environment=environment,
    )
